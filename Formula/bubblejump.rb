# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Bubblejump < Formula
  desc "Quickly get shell access to EC2 instances in our VPC"
  homepage "https://github.com/redbubble/bubblejump"
  version "0.8.2"

  depends_on "yak"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/redbubble/bubblejump/releases/download/v0.8.2/bubblejump_0.8.2_Darwin_arm64.tar.gz"
      sha256 "d7fa37ea0c23f374500830a8ce57c71deb6145b0cf506cae2250dcbe76247d68"

      def install
        bin.install "bubblejump"
        bash_completion.install "bash.completion" => "bubblejump"
        zsh_completion.install "zsh.completion" => "_bubblejump"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/redbubble/bubblejump/releases/download/v0.8.2/bubblejump_0.8.2_Darwin_x86_64.tar.gz"
      sha256 "23e1a0658b4c8b0dee9cb7d59007e99ab4e01a1dae4bab7aeb519a2c52aad0c3"

      def install
        bin.install "bubblejump"
        bash_completion.install "bash.completion" => "bubblejump"
        zsh_completion.install "zsh.completion" => "_bubblejump"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/redbubble/bubblejump/releases/download/v0.8.2/bubblejump_0.8.2_Linux_arm64.tar.gz"
      sha256 "eec37dc29777335f6cd3bcb01fdf3e7f784343569b7d7a4067f2813384a05de0"

      def install
        bin.install "bubblejump"
        bash_completion.install "bash.completion" => "bubblejump"
        zsh_completion.install "zsh.completion" => "_bubblejump"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/redbubble/bubblejump/releases/download/v0.8.2/bubblejump_0.8.2_Linux_x86_64.tar.gz"
      sha256 "2b7876d8cf964e652114e3960dddc884f02dda8ac7d432c198eb7daa781843ad"

      def install
        bin.install "bubblejump"
        bash_completion.install "bash.completion" => "bubblejump"
        zsh_completion.install "zsh.completion" => "_bubblejump"
      end
    end
  end

  def caveats
    <<~EOS
      To configure Bubblejump's SSH ProxyCommand (useful for database connections),
      add the config block to your SSH config:

      bubblejump proxycommand >> ~/.ssh/config
    EOS
  end

  test do
    system "#{bin}/bubblejump version"
  end
end
