# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Bubblejump < Formula
  desc "Quickly get shell access to EC2 instances in our VPC"
  homepage "https://github.com/redbubble/bubblejump"
  version "0.9.2"

  on_macos do
    if Hardware::CPU.arm?
      url "http://apt.redbubble.com/bubblejump/v0.9.2/bubblejump_0.9.2_darwin_arm64.tar.gz"
      sha256 "91860ee5ead5ca52e582c11da7b0db1cc4b69aa3a9fec5ca6c0c1db070829902"

      def install
        bin.install "bubblejump"
        bash_completion.install "bash.completion" => "bubblejump"
        zsh_completion.install "zsh.completion" => "_bubblejump"
      end
    end
    if Hardware::CPU.intel?
      url "http://apt.redbubble.com/bubblejump/v0.9.2/bubblejump_0.9.2_darwin_amd64.tar.gz"
      sha256 "3b354040bb6bf20404ee9af432cec8ef39772fcf41756a3a530b7741df51cdfd"

      def install
        bin.install "bubblejump"
        bash_completion.install "bash.completion" => "bubblejump"
        zsh_completion.install "zsh.completion" => "_bubblejump"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "http://apt.redbubble.com/bubblejump/v0.9.2/bubblejump_0.9.2_linux_arm64.tar.gz"
      sha256 "fa174f5c1cb514d9190f4c0202a5733545b041e37bfce424aaa01f3110bd218c"

      def install
        bin.install "bubblejump"
        bash_completion.install "bash.completion" => "bubblejump"
        zsh_completion.install "zsh.completion" => "_bubblejump"
      end
    end
    if Hardware::CPU.intel?
      url "http://apt.redbubble.com/bubblejump/v0.9.2/bubblejump_0.9.2_linux_amd64.tar.gz"
      sha256 "eae131ab59223ad3ad97c53c536636130fabd49f173aef9d52b8f9acd86ea811"

      def install
        bin.install "bubblejump"
        bash_completion.install "bash.completion" => "bubblejump"
        zsh_completion.install "zsh.completion" => "_bubblejump"
      end
    end
  end

  def caveats
    <<~EOS
      To configure Bubblejump's SSH ProxyCommand (useful for database connections),
      add the config block to your SSH config:

      bubblejump proxycommand >> ~/.ssh/config
    EOS
  end

  test do
    system "#{bin}/bubblejump version"
  end
end
